name: cbs_reasoning_engine
version: "1.0.0"
description: >
  Reasoning engine and backend adapters for the CBS runtime. Supports OpenAI,
  Anthropic, local templated, and offline backends. Falls back to deterministic
  local backend if remote providers are unavailable.

module: cbs_reasoning_engine
class: ReasoningEngine

parameters:
  bootstrap:
    type: CognitionBootstrap
    required: true
    description: Initialized CBS boot loader instance
  memory_manager:
    type: MemoryManager
    required: true
    description: Memory manager for context retrieval
  backend:
    type: BaseBackend
    required: true
    description: LLM backend instance

methods:
  respond:
    description: Generate a response to user input with memory context
    parameters:
      user_message:
        type: string
        required: true
      retrieve_context:
        type: boolean
        default: true
      importance:
        type: float
        default: 0.55
    returns: string

  execute_skill:
    description: Load a GHMP skill plate and return its payload
    parameters:
      skill_id:
        type: string
        required: true
    returns: string

backends:
  offline:
    description: Deterministic offline backend for demo/testing
    class: OfflineBackend
  local:
    description: Template-based local backend with configurable creativity
    class: LocalBackend
    parameters:
      creativity:
        type: float
        default: 0.35
  openai:
    description: OpenAI API backend
    class: OpenAIBackend
    parameters:
      api_key:
        type: string
        required: true
      model:
        type: string
        default: gpt-4o-mini
  anthropic:
    description: Anthropic Claude API backend
    class: AnthropicBackend
    parameters:
      api_key:
        type: string
        required: true
      model:
        type: string
        default: claude-3-haiku-20240307

factory:
  function: create_backend
  description: Factory returning a backend instance by name

tags:
  - cbs
  - reasoning
  - llm
  - backend
